# PDCA 계획서: 데이터 정합성 복구 및 전역 CRUD 고도화

## 1. 개요 (Plan - P)
DB 내 기존 데이터(테스트 데이터 및 이전 기록)가 화면에 보이지 않는 문제를 해결하고, 모든 내역(수확, 판매, 지출, 근로자)에 대해 완전한 수정/삭제(CRUD) 기능을 구축합니다. bkit의 데이터 연속성 및 보장 규칙을 최우선으로 적용합니다.

## 2. 현황 및 문제점
- **문제 1**: 근로자 데이터가 DB에 있으나 `farm_id` 불일치 또는 RLS 정책으로 인해 화면에 "데이터 없음"으로 표시됨.
- **문제 2**: 수확 및 판매 기록에 삭제 기능만 있고 수정 기능이 없어 데이터 관리가 불편함.
- **문제 3**: 시스템 관리자가 모든 데이터를 한눈에 보고 관리할 수 있는 가시성 부족.

## 3. 목표
- 모든 테이블의 RLS를 해제하여 데이터 접근성을 확보하고, 기존 데이터를 현재 활성 농장 ID로 동기화.
- 수확/판매/근로자/지출 모든 페이지에 **수정(Update)** 기능 추가 통합.
- 데이터베이스 내 어떤 데이터도 유실되거나 보이지 않는 일이 없도록 무결성 확보.

## 4. 작업 계획
1. **분석**: 현재 활성 농장 ID를 파악하고 DB 내 데이터들과 비교 분석 (완료).
2. **복구 (Do)**:
    - **마스터 SQL**: 모든 테이블 RLS 해제 및 농장 ID 불일치 해결 스크립트 실행.
3. **고도화 (Do)**:
    - **수확(Harvest)**: 최근 내역 리스트에 '수정' 모달 또는 인라인 편집 추가.
    - **판매(Sales)**: 최근 내역 리스트에 '수정' 기능 통합.
    - **근로자(Workers)**: 현재 미표시되는 데이터 복구 확인.
4. **검증 (Check)**: 갭 분석 보고서를 통해 모든 데이터가 보이고 CRUD가 되는지 확인.
5. **보고 (Act)**: 최종 완료 보고서 작성 및 사용자 가이드 제공.

---
*bkit Vibecoding Kit v1.5.2 적용*

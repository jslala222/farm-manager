# PDCA 설계서 (Design - D)

## 1. 개요
근로자 관리의 편의성과 출근 데이터의 정확성을 높이기 위한 UI/UX 및 로직을 설계합니다.

## 2. 주요 설계 변경 사항

### 2.1 근로자 관리 고도화 (WorkersPage)
- **수정 기능(Edit)**:
    - 각 근로자 카드 옆에 '수정' 아이콘 추가.
    - 클릭 시 해당 근로자의 정보를 미리 채운 수정 폼(또는 모달) 노출.
    - 업데이트 성공 시 리스트 즉시 갱신.
- **카테고리 구분 UI**:
    - 리스트 상단에 '식구/외국인/알바' 필터 또는 섹션 구분을 명확히 하여 한눈에 들어오게 배치.
- **데이터 필드**:
    - 이름, 연락처 외에 간단한 메모 필드 추가 고려.

### 2.2 출근부 중복 방지 (AttendancePage)
- **저장 로직**:
    - `delete` -> `insert` 방식은 유지하되, `recorded_at` 필드가 아닌 `work_date`를 기준으로 최신 상태만 남기도록 프론트엔드 리스트 조회 쿼리 수정.
- **내역 리스트(Recent History)**:
    - `group by work_date, worker_id` 효과를 내기 위해, 중복된 (날짜, 근로자) 기록 중 가장 최신 시점의 데이터만 필터링하여 노출.
    - 리스트 아이템에 '수정 시간'이 아닌 '출근 일자'를 강조하여 정체성 확보.

## 3. 구현 파일 목록
- `app/workers/page.tsx`
- `app/attendance/page.tsx`

## 4. 검증 계획 (Check)
- [ ] 한 명의 근로자를 여러 번 출근 저장했을 때, 내역에 한 줄만 나오는지 확인.
- [ ] 근로자 이름을 수정했을 때, 출근부 등 기존 관련 데이터에도 반영(또는 이름 변경 확인)되는지 확인.
- [ ] 알바 등록 시 카테고리별로 잘 나뉘어 보이는지 확인.

---
*bkit Vibecoding Kit v1.5.2 적용*
